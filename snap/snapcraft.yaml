name: mob-sh
base: core18
version: '1.5.0'
summary: Fast git handover with mob
description: |
  Smooth git handover with 'mob' for remote mob or pair programming.
  See mob.sh for details.

grade: stable
confinement: strict

parts:
  mob-sh:
    plugin: go
    source: .
    source-type: git
    stage-packages:
      - git
      - libnotify-bin
      
  say:
    plugin: dump
    source: snap/local
    source-type: local
    stage-packages:
      - espeak-ng-espeak
      - mbrola-us1
    override-build: |
      snapcraftctl build
      sed -i 's|/usr|$SNAP/usr|g' $SNAPCRAFT_PART_INSTALL/usr/bin/mbrola
    organize: 
      say: bin/say
      usr/share/mbrola/us1/us1: usr/lib/x86_64-linux-gnu/espeak-ng-data/mbrola/us1


apps:
  mob-sh:
    command: mob
    plugs:
      - network
      - audio-playback
      - desktop
      - x11